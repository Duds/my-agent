{"id":"PBI-025","title":"Modes from Config","priority":"S","phase":"Reconciled Scaffold Features","status":"ready","detailed_design":{"module":"core + frontend","description":"Move agent modes from hardcoded personas in core/main.py to config (modes.yaml or modes.json). Modes: General, Private, Focus, Relax. Per research: Mode replaces Persona. Aligns scaffold ModeSelector with roadmap capability.context_awareness.","affected_files":["core/main.py","core/config.py","frontend/src/components/mode-selector.tsx"],"solution":"1. Add modes config to settings schema. 2. Load modes from config file (modes.yaml). 3. Expose via /api/modes (replace /api/personas). 4. Support mode_id in /query when provided."},"acceptance_criteria":["Modes loaded from config (YAML or JSON)","Default modes provided if config missing: General, Private, Focus, Relax","/api/modes returns config-driven list","/query accepts optional mode_id","ModeSelector displays config modes","Documentation for mode config format"],"user_stories":[{"story":"As a user, I want to switch activity modes (Focus, Relax) to tailor system behaviour."},{"story":"As an advanced user, I want to add or edit modes via config."}],"technical_notes":{"current_issue":"Personas hardcoded in main.py; per research Mode replaces Persona","risk":"LOW","estimated_effort":"Small (1-2 days)","dependencies":["Configuration management (PBI-007)"]}}
